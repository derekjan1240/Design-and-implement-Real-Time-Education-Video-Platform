<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
        <title>shopping Cart</title>
        <style>

            body{
                background: #E1EFE6;
            }

            ul{
                display:flex;
                justify-content: center
            }

            .card{
                margin: 20px;
                color: #DDDBF1;
                background: #283845;
                padding: 10px;
                border:2px #DDDBF1 solid;
                border-radius:10px;

            }

            .btn{
                padding: 4px 10px;
                margin-left: 5px;
            }

            .card-body{
                font-size: 20px;
            }

        </style>

    </head>
    <body onload='createCard()'>
        <% include header %>
        <div id='navBar' style="padding: 20px;">
            <div class="col-lg-8 col-lg-offset-2">       
                <!-- 課程分類導航 -->               
                <ul class="nav nav-pills">
                  <li class="nav-item">
                    <a class="nav-link" href="/profile/setting">Setting</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="/profile/password">Password</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="/profile/course">Course</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="/profile/shoppingCart">Shopping Cart</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="/profile/delete">Delete</a>
                  </li>
                </ul>  
            </div>
        </div>
            <br><br>
        <main>
            
                <form  enctype='application/json' method="POST">
                    <div id="cardSection" class="container" style="text-align: center;">
                        
                    </div>
                    <br>
                    <div class="container" style="text-align: center;">
                        <button type="submit" class="btn btn-primary" formaction="/profile/setting/modify" style="">Cheak</button>
                    </div>
                </form>
            
            

        </main>
    </body>
</html>


<script type="text/javascript">

    let cardSection = document.getElementById('cardSection');
    
    function createCard(){
        <% for(let i=0; i<user.shoppingCartCourse.length; i++){ %>

            container = document.createElement('div');
            container.setAttribute("class", "col-sm-12" );
            cardSection.appendChild(container);

            card = document.createElement('div');
            card.setAttribute("class", "card" );
            container.appendChild(card);

            cardbody = document.createElement('div');
            cardbody.setAttribute("class", "card-body" );
            card.appendChild(cardbody);

            cardbody.innerHTML = '<input type="checkbox" name="itemA" value="itemA" checked="checked">&nbsp;<%= user.shoppingCartCourse[i] %><br><br>';

            linkGo = document.createElement('a');
            linkGo.setAttribute("href", "/course/<%= user.shoppingCartCourse[i] %>/1" );
            linkGo.setAttribute("class", "btn btn-primary" );
            linkGo.innerHTML='Go';
            card.appendChild(linkGo);   

            linkDelete = document.createElement('a');
            linkDelete.setAttribute("href", "/course/uncollected/<%= user.shoppingCartCourse[i] %>" );
            linkDelete.setAttribute("class", "btn btn-danger" );
            linkDelete.innerHTML='Delete';
            card.appendChild(linkDelete); 
            
        <% } %>
    }

</script>